@import "tailwindcss";

/* Enable dark mode support */
html.dark {
  color-scheme: dark;
}

/* Global theme transitions */
* {
  transition:
    background-color 0.2s ease-in-out,
    border-color 0.2s ease-in-out,
    color 0.2s ease-in-out;
}

/* Custom Kanban Board Animations - REMOVED for native dnd-kit behavior */

.kanban-column {
  overflow-x: hidden !important;
  max-width: 100%;
}

.task-card {
  max-width: 100%;
  word-wrap: break-word;
  overflow-wrap: break-word;
  /* Basic transition for hover effects only, not drag */
  transition: box-shadow 200ms ease-out;
}

/* Ensure proper stacking */
.kanban-task-list {
  position: relative;
}

.kanban-task-list .task-card {
  position: relative;
  transform-origin: center;
}

/* Custom Scrollbar Styles */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 3px;
  transition: background 0.2s ease-in-out;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.8);
}

.scrollbar-thumb-blue-500::-webkit-scrollbar-thumb {
  background: rgba(59, 130, 246, 0.6);
}

.scrollbar-thumb-blue-500::-webkit-scrollbar-thumb:hover {
  background: rgba(59, 130, 246, 0.8);
}

.scrollbar-track-gray-200::-webkit-scrollbar-track {
  background: rgba(229, 231, 235, 0.3);
}

/* Glassmorphism Effect */
.glass-effect {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-effect-dark {
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Custom responsive utilities */
@layer utilities {
  /* Line clamping for text truncation */
  .line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
    line-clamp: 1;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    line-clamp: 2;
  }

  .line-clamp-3 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    line-clamp: 3;
  }

  /* Better touch targets for mobile */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Scroll snap for better mobile scrolling */
  .scroll-snap-x {
    scroll-snap-type: x mandatory;
  }

  .scroll-snap-start {
    scroll-snap-align: start;
  }

  .scroll-snap-center {
    scroll-snap-align: center;
  }
}

/* Custom scrollbar styles */
@layer base {
  /* Webkit scrollbar styling */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }

  /* Custom scrollbar for table */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: #f8fafc;
    border-radius: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #3b82f6;
    border-radius: 4px;
    border: 1px solid #f8fafc;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #2563eb;
  }

  .custom-scrollbar::-webkit-scrollbar-corner {
    background: #f8fafc;
  }

  /* Improved focus styles for accessibility */
  *:focus {
    outline: none;
  }

  button:focus,
  input:focus,
  select:focus,
  textarea:focus {
    outline: none;
  }
}

/* Mobile-specific optimizations */
@media (max-width: 640px) {
  /* Prevent zoom on input focus */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  input[type="date"],
  input[type="datetime-local"],
  input[type="month"],
  input[type="time"],
  input[type="week"],
  select,
  textarea {
    font-size: 16px;
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Dark mode specific styles */
@media (prefers-color-scheme: dark) {
  html:not(.light) {
    color-scheme: dark;
  }
}

/* Custom scrollbar for dark mode */
.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark ::-webkit-scrollbar-track {
  background: #374151;
}

.dark ::-webkit-scrollbar-thumb {
  background: #6b7280;
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* Focus styles for dark mode */
.dark .focus\:ring-blue-500:focus {
  --tw-ring-color: #60a5fa;
}

.dark .focus\:ring-blue-300:focus {
  --tw-ring-color: #93c5fd;
}

/* Header and layout fixes */
html,
body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Ensure header stays on top */
header[class*="sticky"] {
  position: sticky !important;
  top: 0 !important;
  z-index: 100 !important;
}

/* Prevent content from going behind header */
.layout-content {
  padding-top: 4rem;
  /* 64px header height */
}
